<!-- Formulario Creación de Usuario -->

<mat-card class="user-card">
  <mat-card-title>Crear Usuario</mat-card-title>
  <mat-card-content>
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <mat-form-field>
        <mat-label>Nombre</mat-label>
        <input matInput formControlName="name" placeholder="Escribe tu nombre">
        <mat-error *ngIf="userForm.get('name')?.invalid">El nombre es obligatorio</mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Correo Electrónico</mat-label>
        <input matInput type="email" formControlName="email" placeholder="ejemplo@email.com">
        <mat-error *ngIf="userForm.get('email')?.invalid">Ingrese un correo válido</mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Rol</mat-label>
        <mat-select formControlName="role">
          @for (rol of roles; track rol) {
            <mat-option [value]="rol.value">{{rol.viewValue}}</mat-option>
          }
        </mat-select>
        <mat-error *ngIf="userForm.get('role')?.invalid">Seleccione un rol</mat-error>
      </mat-form-field>

      <button mat-raised-button type="submit" [disabled]="userForm.invalid || buttonDisabled">
        Crear Usuario
      </button>

    </form>
  </mat-card-content>
</mat-card>